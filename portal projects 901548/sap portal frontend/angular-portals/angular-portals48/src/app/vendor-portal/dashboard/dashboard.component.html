
<div class="dashboard-container">
  <!-- Enhanced Header Card -->
  <div class="dashboard-header-card">
    <div class="header-background"></div>
    <div class="dashboard-header-content">
      <div class="dashboard-header-avatar"></div>
      <div class="dashboard-header-text">
        <h2 class="dashboard-gradient-title">Welcome back, {{ vendorProfile?.name || 'Vendor' }}!</h2>
        <div class="welcome-id">
          Vendor ID: {{ vendorProfile?.vendorId || vendorProfile?.lifnr || 'Loading...' }}
        </div>
        <div class="welcome-status">
          <span class="status-indicator"></span>
          Active Account
        </div>
      </div>
    </div>
    <button class="logout-button" (click)="logout()">
      <span class="logout-icon"></span>
      <span class="logout-text">LOGOUT</span>
    </button>
  </div>

  <!-- Quick Stats Section -->
  <div class="quick-stats-section">
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon">
          <i class="fas fa-file-alt"></i>
        </div>
        <div class="stat-content">
          <h3>{{ dashboardStats?.activeRfqs || 0 }}</h3>
          <p>Active RFQs</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">
          <i class="fas fa-shopping-cart"></i>
        </div>
        <div class="stat-content">
          <h3>{{ dashboardStats?.activePOs || 0 }}</h3>
          <p>Purchase Orders</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">
          <i class="fas fa-truck"></i>
        </div>
        <div class="stat-content">
          <h3>{{ dashboardStats?.pendingDeliveries || 0 }}</h3>
          <p>Pending Deliveries</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">
          <i class="fas fa-dollar-sign"></i>
        </div>
        <div class="stat-content">
          <h3>{{ dashboardStats?.totalValue || '$0' }}</h3>
          <p>Total Value</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Business Objects Section -->
  <section class="business-objects-section">
    <div class="section-header">
      <h3>Business Objects</h3>
      <p>Access your business modules and manage operations</p>
    </div>
    
    <div class="business-tiles-grid">
      <a class="business-tile" [routerLink]="['/vendor/rfq']">
        <div class="tile-icon">
          <i class="fas fa-file-alt"></i>
        </div>
        <div class="tile-content">
          <h4>Request for Quotation</h4>
          <p>View and respond to RFQs</p>
          <div class="tile-badge">{{ dashboardStats?.activeRfqs || 0 }} Active</div>
        </div>
        <div class="tile-arrow"></div>
      </a>

      <a class="business-tile" [routerLink]="['/vendor/purchase-order']">
        <div class="tile-icon">
          <i class="fas fa-shopping-cart"></i>
        </div>
        <div class="tile-content">
          <h4>Purchase Orders</h4>
          <p>Manage your purchase orders</p>
          <div class="tile-badge">{{ dashboardStats?.activePOs || 0 }} Orders</div>
        </div>
        <div class="tile-arrow"></div>
      </a>

      <a class="business-tile" [routerLink]="['/vendor/goods']">
        <div class="tile-icon">
          <i class="fas fa-truck"></i>
        </div>
        <div class="tile-content">
          <h4>Goods Receipt</h4>
          <p>Track goods and deliveries</p>
          <div class="tile-badge">{{ dashboardStats?.pendingDeliveries || 0 }} Pending</div>
        </div>
        <div class="tile-arrow"></div>
      </a>

      <a class="business-tile" [routerLink]="['/vendor/finance']">
        <div class="tile-icon">
          <i class="fas fa-coins"></i>
        </div>
        <div class="tile-content">
          <h4>Financials</h4>
          <p>Financial reports and invoices</p>
          <div class="tile-badge">{{ dashboardStats?.pendingInvoices || 0 }} Pending</div>
        </div>
        <div class="tile-arrow"></div>
      </a>

      <a class="business-tile" [routerLink]="['/vendor/profile']">
        <div class="tile-icon">
          <i class="fas fa-user"></i>
        </div>
        <div class="tile-content">
          <h4>Profile</h4>
          <p>Manage vendor information</p>
          <div class="tile-badge">Updated</div>
        </div>
        <div class="tile-arrow"></div>
      </a>
    </div>
  </section>

  <!-- Recent Activity Section -->
  <section class="recent-activity-section">
    <div class="section-header">
      <h3>
        <i class="fas fa-history"></i>
        Recent Activity
      </h3>
    </div>
    
    <div class="activity-list" *ngIf="recentActivities && recentActivities.length > 0">
      <div class="activity-item" *ngFor="let activity of recentActivities">
        <div class="activity-icon">
          <i [class]="getActivityIcon(activity.type)"></i>
        </div>
        <div class="activity-content">
          <h4>{{ activity.title }}</h4>
          <p>{{ activity.description }}</p>
          <span class="activity-time">{{ activity.timestamp | date:'short' }}</span>
        </div>
      </div>
    </div>

    <!-- Default activities when no data -->
    <div class="activity-list" *ngIf="!recentActivities || recentActivities.length === 0">
      <div class="activity-item">
        <div class="activity-icon">
          <i class="fas fa-file-alt"></i>
        </div>
        <div class="activity-content">
          <h4>RFQ Received</h4>
          <p>New request for quotation awaiting response</p>
          <span class="activity-time">Loading...</span>
        </div>
      </div>
      
      <div class="activity-item">
        <div class="activity-icon">
          <i class="fas fa-shopping-cart"></i>
        </div>
        <div class="activity-content">
          <h4>Purchase Order Updated</h4>
          <p>Purchase order status has been updated</p>
          <span class="activity-time">Loading...</span>
        </div>
      </div>
      
      <div class="activity-item">
        <div class="activity-icon">
          <i class="fas fa-truck"></i>
        </div>
        <div class="activity-content">
          <h4>Goods Receipt Confirmed</h4>
          <p>Delivery confirmation received</p>
          <span class="activity-time">Loading...</span>
        </div>
      </div>
    </div>
  </section>
</div>

<div class="aging-container">
  <!-- Header Section -->
  <div class="aging-header">
    <div class="header-content">
      <div class="title-section">
        <div class="header-icon">
          <i class="fas fa-calendar-alt"></i>
        </div>
        <h1 class="aging-title">Welcome to Aging Management!</h1>
        <p class="aging-subtitle">Aging Report Portal</p>
      </div>
      <button class="back-button" (click)="goBack()">
        <i class="fas fa-arrow-left back-icon"></i>
        BACK
      </button>
    </div>
  </div>

  <!-- Controls -->
  <div class="controls-card">
    <div class="search-section">
      <div class="search-wrapper">
        <i class="fas fa-search search-icon"></i>
        <input
          class="search-input"
          type="text"
          placeholder="Search Payment Doc, Vendor ID, Amount..."
          [(ngModel)]="searchTerm"
        />
      </div>
      <div class="stat-item">
        <div class="stat-label">TOTAL ITEMS</div>
        <div class="stat-value">{{ filteredAndSortedData.length }}</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">PAGE</div>
        <div class="stat-value">1 / 1</div>
      </div>
    </div>
  </div>

  <div class="content-card" *ngIf="filteredAndSortedData.length > 0">
    <div class="table-container">
      <div class="table-header">
        <h2 class="table-title">Aging Items</h2>
        <div class="table-actions">
          <button class="action-button" (click)="exportData()">
            <i class="fas fa-download"></i>
            EXPORT
          </button>
          <button class="action-button" (click)="refreshData()">
            <i class="fas fa-sync-alt"></i>
            REFRESH
          </button>
        </div>
      </div>/div>
    <div class="table-actions" style="justify-content: flex-end; margin-bottom: 8px;">
      <button class="action-button" (click)="exportData()">
        <i class="action-icon">ðŸ“Š</i>
        Export
      </button>
      <button class="action-button" (click)="refreshData()">
        <i class="action-icon">ðŸ”„</i>
        Refresh
      </button>
    </div>
    <div class="table-wrapper">
    <table *ngIf="filteredAndSortedData.length > 0; else noData" class="aging-table">
      <thead>
        <tr>
          <th (click)="onSort('paymentDoc')">Payment Doc</th>
          <th (click)="onSort('docYear')">Doc Year</th>
          <th (click)="onSort('paymentDate')">Payment Date</th>
          <th (click)="onSort('enrtyDate')">Entry Date</th>
          <th (click)="onSort('vendorId')">Vendor ID</th>
          <th (click)="onSort('amountPaid')">Amount Paid</th>
          <th (click)="onSort('currency')">Currency</th>
          <th (click)="onSort('dueDate')">Due Date</th>
          <th (click)="onSort('aging')">Aging</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of filteredAndSortedData">
          <td>{{ item.paymentDoc }}</td>
          <td>{{ item.docYear }}</td>
          <td>{{ formatDate(item.paymentDate) }}</td>
          <td>{{ formatDate(item.enrtyDate) }}</td>
          <td>{{ item.vendorId }}</td>
          <td>{{ item.amountPaid }}</td>
          <td>{{ item.currency }}</td>
          <td>{{ formatDate(item.dueDate) }}</td>
          <td>{{ item.aging }}</td>
        </tr>
      </tbody>
    </table>
    <ng-template #noData>
      <p class="no-data-message">No aging data found for this vendor.</p>
    </ng-template>
  </div>
</div>
